<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button slot="start" routerLink="/accueil" text="accueil"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding="5px">


  <!-- ajout contact-->
  <div id="blc">
    <h2>ajouter un contact</h2>
    <ion-card>
      <ion-item>
        <ion-input type="text" placeholder="Nom" required="required" [(ngModel)]="nom"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Prénom" required="required" [(ngModel)]="prenom"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Fonction" required="required" [(ngModel)]="fonction"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="email" placeholder="Email" required="required" [(ngModel)]="email"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Téléphone" required="required" [(ngModel)]="telephone"></ion-input>
      </ion-item>
    </ion-card>
    <ion-button (click)="addContactToFirebase()" expand="block" fill="clear" shape="round">
      Ajouter
    </ion-button>
    <ion-button (click)="annulerContactToFirebase()" routerLink="/accueil" color="danger" fill="clear" expand="block" shape="round">
      Annuler
    </ion-button>
  </div>
  <ion-button  expand="block" shape="round" class="btn">
    Ajouter un contact
  </ion-button>

  <!--fin ajout contact-->
  <!-- ajout mission-->
  <div id="blc">
    <h2>ajouter une mission</h2>
    <ion-card id="card">
      <ion-item>
        <ion-input type="text" placeholder="Nom de l'entreprise" required="required" [(ngModel)]="mission.entreprise">
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Date de la mission" required="required" [(ngModel)]="mission.date">
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-textarea  type="text" placeholder="Mission" required="required" [(ngModel)]="mission.titre"></ion-textarea>
      </ion-item>


      <h2 class="h2">Taches:</h2>
      <ion-card id="addTache" *ngFor="let tache of mission.taches">

        <ion-item-sliding>
          <ion-item>
            {{ tache.nom }}
          </ion-item>
          <ion-item-options side="end">
            <ion-item-option color="danger">
              <ion-icon slot="icon-only" name="trash" (click)="supprimerTache(tache)"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-card>

      <ion-item style="padding-bottom: 16px;">
        <ion-input type="text" placeholder="Ajouter une tache" [(ngModel)]="newTache.nom" required="required"></ion-input>
        <ion-button (click)="addTache()" expand="block" fill="clear" shape="round">
          <ion-icon slot="end" name="add"></ion-icon>
        </ion-button>
      </ion-item>

    </ion-card>
    <ion-button (click)="saveMission()" expand="block" fill="clear" shape="round">
      Envoyer
    </ion-button>
    <ion-button routerLink="/accueil" color="danger" fill="clear" expand="block" shape="round">
      Annuler
    </ion-button>
  </div>
  <ion-button (click)="onClick()" expand="block" shape="round" class="btn">
    Ajouter une mission
  </ion-button>
</ion-content>
